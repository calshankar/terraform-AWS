shankar@Mac-mini [~/Documents/shankar]terraform plan --var-file="terraform.tfvars" --out plan_out
Refreshing Terraform state in-memory prior to plan...
The refreshed state will be used to calculate this plan, but will not be
persisted to local or remote state storage.

data.aws_availability_zones.available: Refreshing state...

------------------------------------------------------------------------

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  + aws_elb.web
      id:                                        <computed>
      arn:                                       <computed>
      availability_zones.#:                      <computed>
      connection_draining:                       "false"
      connection_draining_timeout:               "300"
      cross_zone_load_balancing:                 "true"
      dns_name:                                  <computed>
      health_check.#:                            "1"
      health_check.0.healthy_threshold:          "2"
      health_check.0.interval:                   "30"
      health_check.0.target:                     "HTTP:80/"
      health_check.0.timeout:                    "3"
      health_check.0.unhealthy_threshold:        "5"
      idle_timeout:                              "60"
      instances.#:                               <computed>
      internal:                                  <computed>
      listener.#:                                "1"
      listener.3057123346.instance_port:         "80"
      listener.3057123346.instance_protocol:     "http"
      listener.3057123346.lb_port:               "80"
      listener.3057123346.lb_protocol:           "http"
      listener.3057123346.ssl_certificate_id:    ""
      name:                                      "nginx-elb"
      security_groups.#:                         <computed>
      source_security_group:                     <computed>
      source_security_group_id:                  <computed>
      subnets.#:                                 <computed>
      zone_id:                                   <computed>

  + aws_instance.nginx1
      id:                                        <computed>
      ami:                                       "ami-467ca739"
      associate_public_ip_address:               <computed>
      availability_zone:                         <computed>
      ebs_block_device.#:                        <computed>
      ephemeral_block_device.#:                  <computed>
      get_password_data:                         "false"
      instance_state:                            <computed>
      instance_type:                             "t2.micro"
      ipv6_address_count:                        <computed>
      ipv6_addresses.#:                          <computed>
      key_name:                                  "aws_rediff"
      network_interface.#:                       <computed>
      network_interface_id:                      <computed>
      password_data:                             <computed>
      placement_group:                           <computed>
      primary_network_interface_id:              <computed>
      private_dns:                               <computed>
      private_ip:                                <computed>
      public_dns:                                <computed>
      public_ip:                                 <computed>
      root_block_device.#:                       <computed>
      security_groups.#:                         <computed>
      source_dest_check:                         "true"
      subnet_id:                                 "${aws_subnet.subnet1.id}"
      tenancy:                                   <computed>
      volume_tags.%:                             <computed>
      vpc_security_group_ids.#:                  <computed>

  + aws_instance.nginx2
      id:                                        <computed>
      ami:                                       "ami-467ca739"
      associate_public_ip_address:               <computed>
      availability_zone:                         <computed>
      ebs_block_device.#:                        <computed>
      ephemeral_block_device.#:                  <computed>
      get_password_data:                         "false"
      instance_state:                            <computed>
      instance_type:                             "t2.micro"
      ipv6_address_count:                        <computed>
      ipv6_addresses.#:                          <computed>
      key_name:                                  "aws_rediff"
      network_interface.#:                       <computed>
      network_interface_id:                      <computed>
      password_data:                             <computed>
      placement_group:                           <computed>
      primary_network_interface_id:              <computed>
      private_dns:                               <computed>
      private_ip:                                <computed>
      public_dns:                                <computed>
      public_ip:                                 <computed>
      root_block_device.#:                       <computed>
      security_groups.#:                         <computed>
      source_dest_check:                         "true"
      subnet_id:                                 "${aws_subnet.subnet2.id}"
      tenancy:                                   <computed>
      volume_tags.%:                             <computed>
      vpc_security_group_ids.#:                  <computed>

  + aws_internet_gateway.igw
      id:                                        <computed>
      vpc_id:                                    "${aws_vpc.vpc.id}"

  + aws_route_table.rtb
      id:                                        <computed>
      propagating_vgws.#:                        <computed>
      route.#:                                   "1"
      route.~26415011.cidr_block:                "0.0.0.0/0"
      route.~26415011.egress_only_gateway_id:    ""
      route.~26415011.gateway_id:                "${aws_internet_gateway.igw.id}"
      route.~26415011.instance_id:               ""
      route.~26415011.ipv6_cidr_block:           ""
      route.~26415011.nat_gateway_id:            ""
      route.~26415011.network_interface_id:      ""
      route.~26415011.vpc_peering_connection_id: ""
      vpc_id:                                    "${aws_vpc.vpc.id}"

  + aws_route_table_association.rta-subnet1
      id:                                        <computed>
      route_table_id:                            "${aws_route_table.rtb.id}"
      subnet_id:                                 "${aws_subnet.subnet1.id}"

  + aws_route_table_association.rta-subnet2
      id:                                        <computed>
      route_table_id:                            "${aws_route_table.rtb.id}"
      subnet_id:                                 "${aws_subnet.subnet2.id}"

  + aws_security_group.elb-sg
      id:                                        <computed>
      arn:                                       <computed>
      description:                               "Managed by Terraform"
      egress.#:                                  "1"
      egress.482069346.cidr_blocks.#:            "1"
      egress.482069346.cidr_blocks.0:            "0.0.0.0/0"
      egress.482069346.description:              ""
      egress.482069346.from_port:                "0"
      egress.482069346.ipv6_cidr_blocks.#:       "0"
      egress.482069346.prefix_list_ids.#:        "0"
      egress.482069346.protocol:                 "-1"
      egress.482069346.security_groups.#:        "0"
      egress.482069346.self:                     "false"
      egress.482069346.to_port:                  "0"
      ingress.#:                                 "1"
      ingress.2214680975.cidr_blocks.#:          "1"
      ingress.2214680975.cidr_blocks.0:          "0.0.0.0/0"
      ingress.2214680975.description:            ""
      ingress.2214680975.from_port:              "80"
      ingress.2214680975.ipv6_cidr_blocks.#:     "0"
      ingress.2214680975.protocol:               "tcp"
      ingress.2214680975.security_groups.#:      "0"
      ingress.2214680975.self:                   "false"
      ingress.2214680975.to_port:                "80"
      name:                                      "nginx_elb_sg"
      owner_id:                                  <computed>
      revoke_rules_on_delete:                    "false"
      vpc_id:                                    "${aws_vpc.vpc.id}"

  + aws_security_group.nginx-sg
      id:                                        <computed>
      arn:                                       <computed>
      description:                               "Managed by Terraform"
      egress.#:                                  "1"
      egress.482069346.cidr_blocks.#:            "1"
      egress.482069346.cidr_blocks.0:            "0.0.0.0/0"
      egress.482069346.description:              ""
      egress.482069346.from_port:                "0"
      egress.482069346.ipv6_cidr_blocks.#:       "0"
      egress.482069346.prefix_list_ids.#:        "0"
      egress.482069346.protocol:                 "-1"
      egress.482069346.security_groups.#:        "0"
      egress.482069346.self:                     "false"
      egress.482069346.to_port:                  "0"
      ingress.#:                                 "2"
      ingress.2214680975.cidr_blocks.#:          "1"
      ingress.2214680975.cidr_blocks.0:          "0.0.0.0/0"
      ingress.2214680975.description:            ""
      ingress.2214680975.from_port:              "80"
      ingress.2214680975.ipv6_cidr_blocks.#:     "0"
      ingress.2214680975.protocol:               "tcp"
      ingress.2214680975.security_groups.#:      "0"
      ingress.2214680975.self:                   "false"
      ingress.2214680975.to_port:                "80"
      ingress.2541437006.cidr_blocks.#:          "1"
      ingress.2541437006.cidr_blocks.0:          "0.0.0.0/0"
      ingress.2541437006.description:            ""
      ingress.2541437006.from_port:              "22"
      ingress.2541437006.ipv6_cidr_blocks.#:     "0"
      ingress.2541437006.protocol:               "tcp"
      ingress.2541437006.security_groups.#:      "0"
      ingress.2541437006.self:                   "false"
      ingress.2541437006.to_port:                "22"
      name:                                      "nginx_sg"
      owner_id:                                  <computed>
      revoke_rules_on_delete:                    "false"
      vpc_id:                                    "${aws_vpc.vpc.id}"

  + aws_subnet.subnet1
      id:                                        <computed>
      assign_ipv6_address_on_creation:           "false"
      availability_zone:                         "us-east-1a"
      cidr_block:                                "10.1.0.0/24"
      ipv6_cidr_block:                           <computed>
      ipv6_cidr_block_association_id:            <computed>
      map_public_ip_on_launch:                   "true"
      vpc_id:                                    "${aws_vpc.vpc.id}"

  + aws_subnet.subnet2
      id:                                        <computed>
      assign_ipv6_address_on_creation:           "false"
      availability_zone:                         "us-east-1b"
      cidr_block:                                "10.1.1.0/24"
      ipv6_cidr_block:                           <computed>
      ipv6_cidr_block_association_id:            <computed>
      map_public_ip_on_launch:                   "true"
      vpc_id:                                    "${aws_vpc.vpc.id}"

  + aws_vpc.vpc
      id:                                        <computed>
      assign_generated_ipv6_cidr_block:          "false"
      cidr_block:                                "10.1.0.0/16"
      default_network_acl_id:                    <computed>
      default_route_table_id:                    <computed>
      default_security_group_id:                 <computed>
      dhcp_options_id:                           <computed>
      enable_classiclink:                        <computed>
      enable_classiclink_dns_support:            <computed>
      enable_dns_hostnames:                      "true"
      enable_dns_support:                        "true"
      instance_tenancy:                          <computed>
      ipv6_association_id:                       <computed>
      ipv6_cidr_block:                           <computed>
      main_route_table_id:                       <computed>


Plan: 12 to add, 0 to change, 0 to destroy.

------------------------------------------------------------------------

This plan was saved to: plan_out

To perform exactly these actions, run the following command to apply:
    terraform apply "plan_out"

shankar@Mac-mini [~/Documents/PluralTranscripts/terraform-getting-started/shankar]terraform apply "plan_out"
aws_vpc.vpc: Creating...
  assign_generated_ipv6_cidr_block: "" => "false"
  cidr_block:                       "" => "10.1.0.0/16"
  default_network_acl_id:           "" => "<computed>"
  default_route_table_id:           "" => "<computed>"
  default_security_group_id:        "" => "<computed>"
  dhcp_options_id:                  "" => "<computed>"
  enable_classiclink:               "" => "<computed>"
  enable_classiclink_dns_support:   "" => "<computed>"
  enable_dns_hostnames:             "" => "true"
  enable_dns_support:               "" => "true"
  instance_tenancy:                 "" => "<computed>"
  ipv6_association_id:              "" => "<computed>"
  ipv6_cidr_block:                  "" => "<computed>"
  main_route_table_id:              "" => "<computed>"
aws_vpc.vpc: Still creating... (10s elapsed)
aws_vpc.vpc: Creation complete after 14s (ID: vpc-3f745d44)
aws_internet_gateway.igw: Creating...
  vpc_id: "" => "vpc-3f745d44"
aws_subnet.subnet2: Creating...
  assign_ipv6_address_on_creation: "" => "false"
  availability_zone:               "" => "us-east-1b"
  cidr_block:                      "" => "10.1.1.0/24"
  ipv6_cidr_block:                 "" => "<computed>"
  ipv6_cidr_block_association_id:  "" => "<computed>"
  map_public_ip_on_launch:         "" => "true"
  vpc_id:                          "" => "vpc-3f745d44"
aws_subnet.subnet1: Creating...
  assign_ipv6_address_on_creation: "" => "false"
  availability_zone:               "" => "us-east-1a"
  cidr_block:                      "" => "10.1.0.0/24"
  ipv6_cidr_block:                 "" => "<computed>"
  ipv6_cidr_block_association_id:  "" => "<computed>"
  map_public_ip_on_launch:         "" => "true"
  vpc_id:                          "" => "vpc-3f745d44"
aws_security_group.elb-sg: Creating...
  arn:                                   "" => "<computed>"
  description:                           "" => "Managed by Terraform"
  egress.#:                              "" => "1"
  egress.482069346.cidr_blocks.#:        "" => "1"
  egress.482069346.cidr_blocks.0:        "" => "0.0.0.0/0"
  egress.482069346.description:          "" => ""
  egress.482069346.from_port:            "" => "0"
  egress.482069346.ipv6_cidr_blocks.#:   "" => "0"
  egress.482069346.prefix_list_ids.#:    "" => "0"
  egress.482069346.protocol:             "" => "-1"
  egress.482069346.security_groups.#:    "" => "0"
  egress.482069346.self:                 "" => "false"
  egress.482069346.to_port:              "" => "0"
  ingress.#:                             "" => "1"
  ingress.2214680975.cidr_blocks.#:      "" => "1"
  ingress.2214680975.cidr_blocks.0:      "" => "0.0.0.0/0"
  ingress.2214680975.description:        "" => ""
  ingress.2214680975.from_port:          "" => "80"
  ingress.2214680975.ipv6_cidr_blocks.#: "" => "0"
  ingress.2214680975.protocol:           "" => "tcp"
  ingress.2214680975.security_groups.#:  "" => "0"
  ingress.2214680975.self:               "" => "false"
  ingress.2214680975.to_port:            "" => "80"
  name:                                  "" => "nginx_elb_sg"
  owner_id:                              "" => "<computed>"
  revoke_rules_on_delete:                "" => "false"
  vpc_id:                                "" => "vpc-3f745d44"
aws_security_group.nginx-sg: Creating...
  arn:                                   "" => "<computed>"
  description:                           "" => "Managed by Terraform"
  egress.#:                              "" => "1"
  egress.482069346.cidr_blocks.#:        "" => "1"
  egress.482069346.cidr_blocks.0:        "" => "0.0.0.0/0"
  egress.482069346.description:          "" => ""
  egress.482069346.from_port:            "" => "0"
  egress.482069346.ipv6_cidr_blocks.#:   "" => "0"
  egress.482069346.prefix_list_ids.#:    "" => "0"
  egress.482069346.protocol:             "" => "-1"
  egress.482069346.security_groups.#:    "" => "0"
  egress.482069346.self:                 "" => "false"
  egress.482069346.to_port:              "" => "0"
  ingress.#:                             "" => "2"
  ingress.2214680975.cidr_blocks.#:      "" => "1"
  ingress.2214680975.cidr_blocks.0:      "" => "0.0.0.0/0"
  ingress.2214680975.description:        "" => ""
  ingress.2214680975.from_port:          "" => "80"
  ingress.2214680975.ipv6_cidr_blocks.#: "" => "0"
  ingress.2214680975.protocol:           "" => "tcp"
  ingress.2214680975.security_groups.#:  "" => "0"
  ingress.2214680975.self:               "" => "false"
  ingress.2214680975.to_port:            "" => "80"
  ingress.2541437006.cidr_blocks.#:      "" => "1"
  ingress.2541437006.cidr_blocks.0:      "" => "0.0.0.0/0"
  ingress.2541437006.description:        "" => ""
  ingress.2541437006.from_port:          "" => "22"
  ingress.2541437006.ipv6_cidr_blocks.#: "" => "0"
  ingress.2541437006.protocol:           "" => "tcp"
  ingress.2541437006.security_groups.#:  "" => "0"
  ingress.2541437006.self:               "" => "false"
  ingress.2541437006.to_port:            "" => "22"
  name:                                  "" => "nginx_sg"
  owner_id:                              "" => "<computed>"
  revoke_rules_on_delete:                "" => "false"
  vpc_id:                                "" => "vpc-3f745d44"
aws_internet_gateway.igw: Creation complete after 4s (ID: igw-dc93e3a4)
aws_route_table.rtb: Creating...
  propagating_vgws.#:                         "" => "<computed>"
  route.#:                                    "" => "1"
  route.3830358439.cidr_block:                "" => "0.0.0.0/0"
  route.3830358439.egress_only_gateway_id:    "" => ""
  route.3830358439.gateway_id:                "" => "igw-dc93e3a4"
  route.3830358439.instance_id:               "" => ""
  route.3830358439.ipv6_cidr_block:           "" => ""
  route.3830358439.nat_gateway_id:            "" => ""
  route.3830358439.network_interface_id:      "" => ""
  route.3830358439.vpc_peering_connection_id: "" => ""
  vpc_id:                                     "" => "vpc-3f745d44"
aws_subnet.subnet1: Creation complete after 4s (ID: subnet-010af75d)
aws_subnet.subnet2: Creation complete after 4s (ID: subnet-dc29e8bb)
aws_route_table.rtb: Creation complete after 4s (ID: rtb-b1e7f5cd)
aws_route_table_association.rta-subnet2: Creating...
  route_table_id: "" => "rtb-b1e7f5cd"
  subnet_id:      "" => "subnet-dc29e8bb"
aws_route_table_association.rta-subnet1: Creating...
  route_table_id: "" => "rtb-b1e7f5cd"
  subnet_id:      "" => "subnet-010af75d"
aws_security_group.elb-sg: Creation complete after 8s (ID: sg-69ff5121)
aws_security_group.nginx-sg: Creation complete after 8s (ID: sg-90f25cd8)
aws_instance.nginx1: Creating...
  ami:                               "" => "ami-467ca739"
  associate_public_ip_address:       "" => "<computed>"
  availability_zone:                 "" => "<computed>"
  ebs_block_device.#:                "" => "<computed>"
  ephemeral_block_device.#:          "" => "<computed>"
  get_password_data:                 "" => "false"
  instance_state:                    "" => "<computed>"
  instance_type:                     "" => "t2.micro"
  ipv6_address_count:                "" => "<computed>"
  ipv6_addresses.#:                  "" => "<computed>"
  key_name:                          "" => "aws_rediff"
  network_interface.#:               "" => "<computed>"
  network_interface_id:              "" => "<computed>"
  password_data:                     "" => "<computed>"
  placement_group:                   "" => "<computed>"
  primary_network_interface_id:      "" => "<computed>"
  private_dns:                       "" => "<computed>"
  private_ip:                        "" => "<computed>"
  public_dns:                        "" => "<computed>"
  public_ip:                         "" => "<computed>"
  root_block_device.#:               "" => "<computed>"
  security_groups.#:                 "" => "<computed>"
  source_dest_check:                 "" => "true"
  subnet_id:                         "" => "subnet-010af75d"
  tenancy:                           "" => "<computed>"
  volume_tags.%:                     "" => "<computed>"
  vpc_security_group_ids.#:          "" => "1"
  vpc_security_group_ids.3751313041: "" => "sg-90f25cd8"
aws_instance.nginx2: Creating...
  ami:                               "" => "ami-467ca739"
  associate_public_ip_address:       "" => "<computed>"
  availability_zone:                 "" => "<computed>"
  ebs_block_device.#:                "" => "<computed>"
  ephemeral_block_device.#:          "" => "<computed>"
  get_password_data:                 "" => "false"
  instance_state:                    "" => "<computed>"
  instance_type:                     "" => "t2.micro"
  ipv6_address_count:                "" => "<computed>"
  ipv6_addresses.#:                  "" => "<computed>"
  key_name:                          "" => "aws_rediff"
  network_interface.#:               "" => "<computed>"
  network_interface_id:              "" => "<computed>"
  password_data:                     "" => "<computed>"
  placement_group:                   "" => "<computed>"
  primary_network_interface_id:      "" => "<computed>"
  private_dns:                       "" => "<computed>"
  private_ip:                        "" => "<computed>"
  public_dns:                        "" => "<computed>"
  public_ip:                         "" => "<computed>"
  root_block_device.#:               "" => "<computed>"
  security_groups.#:                 "" => "<computed>"
  source_dest_check:                 "" => "true"
  subnet_id:                         "" => "subnet-dc29e8bb"
  tenancy:                           "" => "<computed>"
  volume_tags.%:                     "" => "<computed>"
  vpc_security_group_ids.#:          "" => "1"
  vpc_security_group_ids.3751313041: "" => "sg-90f25cd8"
aws_route_table_association.rta-subnet1: Creation complete after 1s (ID: rtbassoc-472e6838)
aws_route_table_association.rta-subnet2: Creation complete after 1s (ID: rtbassoc-b12660ce)
aws_instance.nginx2: Still creating... (10s elapsed)
aws_instance.nginx1: Still creating... (10s elapsed)
aws_instance.nginx2: Still creating... (20s elapsed)
aws_instance.nginx1: Still creating... (20s elapsed)
aws_instance.nginx2: Still creating... (30s elapsed)
aws_instance.nginx1: Still creating... (30s elapsed)
aws_instance.nginx2: Provisioning with 'remote-exec'...
aws_instance.nginx2 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx2 (remote-exec):   Host: 34.232.109.249
aws_instance.nginx2 (remote-exec):   User: ec2-user
aws_instance.nginx2 (remote-exec):   Password: false
aws_instance.nginx2 (remote-exec):   Private key: true
aws_instance.nginx2 (remote-exec):   SSH Agent: true
aws_instance.nginx2 (remote-exec):   Checking Host Key: false
aws_instance.nginx1: Provisioning with 'remote-exec'...
aws_instance.nginx1 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx1 (remote-exec):   Host: 54.211.73.242
aws_instance.nginx1 (remote-exec):   User: ec2-user
aws_instance.nginx1 (remote-exec):   Password: false
aws_instance.nginx1 (remote-exec):   Private key: true
aws_instance.nginx1 (remote-exec):   SSH Agent: true
aws_instance.nginx1 (remote-exec):   Checking Host Key: false
aws_instance.nginx2 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx2 (remote-exec):   Host: 34.232.109.249
aws_instance.nginx2 (remote-exec):   User: ec2-user
aws_instance.nginx2 (remote-exec):   Password: false
aws_instance.nginx2 (remote-exec):   Private key: true
aws_instance.nginx2 (remote-exec):   SSH Agent: true
aws_instance.nginx2 (remote-exec):   Checking Host Key: false
aws_instance.nginx1 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx1 (remote-exec):   Host: 54.211.73.242
aws_instance.nginx1 (remote-exec):   User: ec2-user
aws_instance.nginx1 (remote-exec):   Password: false
aws_instance.nginx1 (remote-exec):   Private key: true
aws_instance.nginx1 (remote-exec):   SSH Agent: true
aws_instance.nginx1 (remote-exec):   Checking Host Key: false
aws_instance.nginx2 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx2 (remote-exec):   Host: 34.232.109.249
aws_instance.nginx2 (remote-exec):   User: ec2-user
aws_instance.nginx2 (remote-exec):   Password: false
aws_instance.nginx2 (remote-exec):   Private key: true
aws_instance.nginx2 (remote-exec):   SSH Agent: true
aws_instance.nginx2 (remote-exec):   Checking Host Key: false
aws_instance.nginx1 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx1 (remote-exec):   Host: 54.211.73.242
aws_instance.nginx1 (remote-exec):   User: ec2-user
aws_instance.nginx1 (remote-exec):   Password: false
aws_instance.nginx1 (remote-exec):   Private key: true
aws_instance.nginx1 (remote-exec):   SSH Agent: true
aws_instance.nginx1 (remote-exec):   Checking Host Key: false
aws_instance.nginx2 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx2 (remote-exec):   Host: 34.232.109.249
aws_instance.nginx2 (remote-exec):   User: ec2-user
aws_instance.nginx2 (remote-exec):   Password: false
aws_instance.nginx2 (remote-exec):   Private key: true
aws_instance.nginx2 (remote-exec):   SSH Agent: true
aws_instance.nginx2 (remote-exec):   Checking Host Key: false
aws_instance.nginx1 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx1 (remote-exec):   Host: 54.211.73.242
aws_instance.nginx1 (remote-exec):   User: ec2-user
aws_instance.nginx1 (remote-exec):   Password: false
aws_instance.nginx1 (remote-exec):   Private key: true
aws_instance.nginx1 (remote-exec):   SSH Agent: true
aws_instance.nginx1 (remote-exec):   Checking Host Key: false
aws_instance.nginx2: Still creating... (40s elapsed)
aws_instance.nginx1: Still creating... (40s elapsed)
aws_instance.nginx2 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx2 (remote-exec):   Host: 34.232.109.249
aws_instance.nginx2 (remote-exec):   User: ec2-user
aws_instance.nginx2 (remote-exec):   Password: false
aws_instance.nginx2 (remote-exec):   Private key: true
aws_instance.nginx2 (remote-exec):   SSH Agent: true
aws_instance.nginx2 (remote-exec):   Checking Host Key: false
aws_instance.nginx1 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx1 (remote-exec):   Host: 54.211.73.242
aws_instance.nginx1 (remote-exec):   User: ec2-user
aws_instance.nginx1 (remote-exec):   Password: false
aws_instance.nginx1 (remote-exec):   Private key: true
aws_instance.nginx1 (remote-exec):   SSH Agent: true
aws_instance.nginx1 (remote-exec):   Checking Host Key: false
aws_instance.nginx2: Still creating... (50s elapsed)
aws_instance.nginx1: Still creating... (50s elapsed)
aws_instance.nginx1: Still creating... (1m0s elapsed)
aws_instance.nginx2: Still creating... (1m0s elapsed)
aws_instance.nginx2 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx2 (remote-exec):   Host: 34.232.109.249
aws_instance.nginx2 (remote-exec):   User: ec2-user
aws_instance.nginx2 (remote-exec):   Password: false
aws_instance.nginx2 (remote-exec):   Private key: true
aws_instance.nginx2 (remote-exec):   SSH Agent: true
aws_instance.nginx2 (remote-exec):   Checking Host Key: false
aws_instance.nginx1 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx1 (remote-exec):   Host: 54.211.73.242
aws_instance.nginx1 (remote-exec):   User: ec2-user
aws_instance.nginx1 (remote-exec):   Password: false
aws_instance.nginx1 (remote-exec):   Private key: true
aws_instance.nginx1 (remote-exec):   SSH Agent: true
aws_instance.nginx1 (remote-exec):   Checking Host Key: false
aws_instance.nginx1 (remote-exec): Connected!
aws_instance.nginx1 (remote-exec): Loaded plugins: priorities, update-motd,
aws_instance.nginx1 (remote-exec):               : upgrade-helper
aws_instance.nginx1 (remote-exec): Resolving Dependencies
aws_instance.nginx1 (remote-exec): --> Running transaction check
aws_instance.nginx1 (remote-exec): ---> Package nginx.x86_64 1:1.12.1-1.33.amzn1 will be installed
aws_instance.nginx1 (remote-exec): --> Processing Dependency: libprofiler.so.0()(64bit) for package: 1:nginx-1.12.1-1.33.amzn1.x86_64
aws_instance.nginx1 (remote-exec): --> Running transaction check
aws_instance.nginx1 (remote-exec): ---> Package gperftools-libs.x86_64 0:2.0-11.5.amzn1 will be installed
aws_instance.nginx1 (remote-exec): --> Processing Dependency: libunwind.so.8()(64bit) for package: gperftools-libs-2.0-11.5.amzn1.x86_64
aws_instance.nginx1 (remote-exec): --> Running transaction check
aws_instance.nginx1 (remote-exec): ---> Package libunwind.x86_64 0:1.1-10.8.amzn1 will be installed
aws_instance.nginx1 (remote-exec): --> Finished Dependency Resolution

aws_instance.nginx1 (remote-exec): Dependencies Resolved

aws_instance.nginx1 (remote-exec): ========================================
aws_instance.nginx1 (remote-exec):  Package     Arch   Version
aws_instance.nginx1 (remote-exec):                         Repository
aws_instance.nginx1 (remote-exec):                                    Size
aws_instance.nginx1 (remote-exec): ========================================
aws_instance.nginx1 (remote-exec): Installing:
aws_instance.nginx1 (remote-exec):  nginx       x86_64 1:1.12.1-1.33.amzn1
aws_instance.nginx1 (remote-exec):                         amzn-main 561 k
aws_instance.nginx1 (remote-exec): Installing for dependencies:
aws_instance.nginx1 (remote-exec):  gperftools-libs
aws_instance.nginx1 (remote-exec):              x86_64 2.0-11.5.amzn1
aws_instance.nginx1 (remote-exec):                         amzn-main 570 k
aws_instance.nginx1 (remote-exec):  libunwind   x86_64 1.1-10.8.amzn1
aws_instance.nginx1 (remote-exec):                         amzn-main  72 k

aws_instance.nginx1 (remote-exec): Transaction Summary
aws_instance.nginx1 (remote-exec): ========================================
aws_instance.nginx1 (remote-exec): Install  1 Package (+2 Dependent packages)

aws_instance.nginx1 (remote-exec): Total download size: 1.2 M
aws_instance.nginx1 (remote-exec): Installed size: 2.9 M
aws_instance.nginx1 (remote-exec): Downloading packages:
aws_instance.nginx1 (remote-exec): (1/3): libunwind-1 |  72 kB   00:00
aws_instance.nginx1 (remote-exec): (2/3): gperftools- | 570 kB   00:00
aws_instance.nginx1 (remote-exec): (3/3): nginx-1.12. | 561 kB   00:00
aws_instance.nginx1 (remote-exec): ----------------------------------------
aws_instance.nginx1 (remote-exec): Total      6.0 MB/s | 1.2 MB  00:00
aws_instance.nginx1 (remote-exec): Running transaction check
aws_instance.nginx1 (remote-exec): Running transaction test
aws_instance.nginx1 (remote-exec): Transaction test succeeded
aws_instance.nginx1 (remote-exec): Running transaction
aws_instance.nginx1 (remote-exec):   Installing : libunwin [         ] 1/3
aws_instance.nginx1 (remote-exec):   Installing : libunwin [#####    ] 1/3
aws_instance.nginx1 (remote-exec):   Installing : libunwin [#######  ] 1/3
aws_instance.nginx1 (remote-exec):   Installing : libunwin [######## ] 1/3
aws_instance.nginx1 (remote-exec):   Installing : libunwind-1.1-10.8   1/3
aws_instance.nginx1 (remote-exec):   Installing : gperftoo [         ] 2/3
aws_instance.nginx1 (remote-exec):   Installing : gperftoo [#        ] 2/3
aws_instance.nginx1 (remote-exec):   Installing : gperftoo [##       ] 2/3
aws_instance.nginx1 (remote-exec):   Installing : gperftoo [###      ] 2/3
aws_instance.nginx1 (remote-exec):   Installing : gperftoo [####     ] 2/3
aws_instance.nginx1 (remote-exec):   Installing : gperftoo [#####    ] 2/3
aws_instance.nginx1 (remote-exec):   Installing : gperftoo [######   ] 2/3
aws_instance.nginx1 (remote-exec):   Installing : gperftoo [#######  ] 2/3
aws_instance.nginx1 (remote-exec):   Installing : gperftoo [######## ] 2/3
aws_instance.nginx1 (remote-exec):   Installing : gperftools-libs-2.   2/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx- [         ] 3/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx- [#        ] 3/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx- [##       ] 3/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx- [###      ] 3/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx- [####     ] 3/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx- [#####    ] 3/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx- [######   ] 3/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx- [#######  ] 3/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx- [######## ] 3/3
aws_instance.nginx1 (remote-exec):   Installing : 1:nginx-1.12.1-1.3   3/3
aws_instance.nginx1 (remote-exec):   Verifying  : libunwind-1.1-10.8   1/3
aws_instance.nginx1 (remote-exec):   Verifying  : gperftools-libs-2.   2/3
aws_instance.nginx1 (remote-exec):   Verifying  : 1:nginx-1.12.1-1.3   3/3

aws_instance.nginx1 (remote-exec): Installed:
aws_instance.nginx1 (remote-exec):   nginx.x86_64 1:1.12.1-1.33.amzn1

aws_instance.nginx1 (remote-exec): Dependency Installed:
aws_instance.nginx1 (remote-exec):   gperftools-libs.x86_64 0:2.0-11.5.amzn1
aws_instance.nginx1 (remote-exec):   libunwind.x86_64 0:1.1-10.8.amzn1

aws_instance.nginx1 (remote-exec): Complete!
aws_instance.nginx1 (remote-exec): Starting nginx:         [  OK  ]
aws_instance.nginx1 (remote-exec): <html><head><title>Nginx Server is up</title></head><body style="background-color:#1F778D"><p style="text-align: center;"><span style="color:#FFFFFF;"><span style="font-size:28px;">Nginx is up & running on the instance i-0187163d47259032b!</span></span></p></body></html>
aws_instance.nginx1: Still creating... (1m10s elapsed)
aws_instance.nginx2: Still creating... (1m10s elapsed)
aws_instance.nginx1: Creation complete after 1m11s (ID: i-0187163d47259032b)
aws_instance.nginx2: Still creating... (1m20s elapsed)
aws_instance.nginx2 (remote-exec): Connecting to remote host via SSH...
aws_instance.nginx2 (remote-exec):   Host: 34.232.109.249
aws_instance.nginx2 (remote-exec):   User: ec2-user
aws_instance.nginx2 (remote-exec):   Password: false
aws_instance.nginx2 (remote-exec):   Private key: true
aws_instance.nginx2 (remote-exec):   SSH Agent: true
aws_instance.nginx2 (remote-exec):   Checking Host Key: false
aws_instance.nginx2 (remote-exec): Connected!
aws_instance.nginx2 (remote-exec): Loaded plugins: priorities, update-motd,
aws_instance.nginx2 (remote-exec):               : upgrade-helper
aws_instance.nginx2 (remote-exec): Resolving Dependencies
aws_instance.nginx2 (remote-exec): --> Running transaction check
aws_instance.nginx2 (remote-exec): ---> Package nginx.x86_64 1:1.12.1-1.33.amzn1 will be installed
aws_instance.nginx2 (remote-exec): --> Processing Dependency: libprofiler.so.0()(64bit) for package: 1:nginx-1.12.1-1.33.amzn1.x86_64
aws_instance.nginx2 (remote-exec): --> Running transaction check
aws_instance.nginx2 (remote-exec): ---> Package gperftools-libs.x86_64 0:2.0-11.5.amzn1 will be installed
aws_instance.nginx2 (remote-exec): --> Processing Dependency: libunwind.so.8()(64bit) for package: gperftools-libs-2.0-11.5.amzn1.x86_64
aws_instance.nginx2 (remote-exec): --> Running transaction check
aws_instance.nginx2 (remote-exec): ---> Package libunwind.x86_64 0:1.1-10.8.amzn1 will be installed
aws_instance.nginx2 (remote-exec): --> Finished Dependency Resolution

aws_instance.nginx2 (remote-exec): Dependencies Resolved

aws_instance.nginx2 (remote-exec): ========================================
aws_instance.nginx2 (remote-exec):  Package     Arch   Version
aws_instance.nginx2 (remote-exec):                         Repository
aws_instance.nginx2 (remote-exec):                                    Size
aws_instance.nginx2 (remote-exec): ========================================
aws_instance.nginx2 (remote-exec): Installing:
aws_instance.nginx2 (remote-exec):  nginx       x86_64 1:1.12.1-1.33.amzn1
aws_instance.nginx2 (remote-exec):                         amzn-main 561 k
aws_instance.nginx2 (remote-exec): Installing for dependencies:
aws_instance.nginx2 (remote-exec):  gperftools-libs
aws_instance.nginx2 (remote-exec):              x86_64 2.0-11.5.amzn1
aws_instance.nginx2 (remote-exec):                         amzn-main 570 k
aws_instance.nginx2 (remote-exec):  libunwind   x86_64 1.1-10.8.amzn1
aws_instance.nginx2 (remote-exec):                         amzn-main  72 k

aws_instance.nginx2 (remote-exec): Transaction Summary
aws_instance.nginx2 (remote-exec): ========================================
aws_instance.nginx2 (remote-exec): Install  1 Package (+2 Dependent packages)

aws_instance.nginx2 (remote-exec): Total download size: 1.2 M
aws_instance.nginx2 (remote-exec): Installed size: 2.9 M
aws_instance.nginx2 (remote-exec): Downloading packages:
aws_instance.nginx2 (remote-exec): (1/3): libunwind-1 |  72 kB   00:00
aws_instance.nginx2 (remote-exec): (2/3): gperftools- | 570 kB   00:00
aws_instance.nginx2 (remote-exec): (3/3): nginx-1 58% | 705 kB   --:-- ETA
aws_instance.nginx2 (remote-exec): (3/3): nginx-1.12. | 561 kB   00:00
aws_instance.nginx2 (remote-exec): ----------------------------------------
aws_instance.nginx2 (remote-exec): Total      1.2 MB/s | 1.2 MB  00:00
aws_instance.nginx2 (remote-exec): Running transaction check
aws_instance.nginx2 (remote-exec): Running transaction test
aws_instance.nginx2 (remote-exec): Transaction test succeeded
aws_instance.nginx2 (remote-exec): Running transaction
aws_instance.nginx2 (remote-exec):   Installing : libunwin [         ] 1/3
aws_instance.nginx2 (remote-exec):   Installing : libunwin [#####    ] 1/3
aws_instance.nginx2 (remote-exec):   Installing : libunwin [#######  ] 1/3
aws_instance.nginx2 (remote-exec):   Installing : libunwin [######## ] 1/3
aws_instance.nginx2 (remote-exec):   Installing : libunwind-1.1-10.8   1/3
aws_instance.nginx2: Still creating... (1m30s elapsed)
aws_instance.nginx2 (remote-exec):   Installing : gperftoo [         ] 2/3
aws_instance.nginx2 (remote-exec):   Installing : gperftoo [#        ] 2/3
aws_instance.nginx2 (remote-exec):   Installing : gperftoo [##       ] 2/3
aws_instance.nginx2 (remote-exec):   Installing : gperftoo [###      ] 2/3
aws_instance.nginx2 (remote-exec):   Installing : gperftoo [####     ] 2/3
aws_instance.nginx2 (remote-exec):   Installing : gperftoo [#####    ] 2/3
aws_instance.nginx2 (remote-exec):   Installing : gperftoo [######   ] 2/3
aws_instance.nginx2 (remote-exec):   Installing : gperftoo [#######  ] 2/3
aws_instance.nginx2 (remote-exec):   Installing : gperftoo [######## ] 2/3
aws_instance.nginx2 (remote-exec):   Installing : gperftools-libs-2.   2/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx- [         ] 3/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx- [#        ] 3/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx- [##       ] 3/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx- [###      ] 3/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx- [####     ] 3/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx- [#####    ] 3/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx- [######   ] 3/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx- [#######  ] 3/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx- [######## ] 3/3
aws_instance.nginx2 (remote-exec):   Installing : 1:nginx-1.12.1-1.3   3/3
aws_instance.nginx2 (remote-exec):   Verifying  : libunwind-1.1-10.8   1/3
aws_instance.nginx2 (remote-exec):   Verifying  : gperftools-libs-2.   2/3
aws_instance.nginx2 (remote-exec):   Verifying  : 1:nginx-1.12.1-1.3   3/3

aws_instance.nginx2 (remote-exec): Installed:
aws_instance.nginx2 (remote-exec):   nginx.x86_64 1:1.12.1-1.33.amzn1

aws_instance.nginx2 (remote-exec): Dependency Installed:
aws_instance.nginx2 (remote-exec):   gperftools-libs.x86_64 0:2.0-11.5.amzn1
aws_instance.nginx2 (remote-exec):   libunwind.x86_64 0:1.1-10.8.amzn1

aws_instance.nginx2 (remote-exec): Complete!
aws_instance.nginx2 (remote-exec): Starting nginx:         [  OK  ]
aws_instance.nginx2 (remote-exec): <html><head><title>Nginx Server is up</title></head><body style="background-color:#1F778D"><p style="text-align: center;"><span style="color:#FFFFFF;"><span style="font-size:28px;">Nginx is up & running on the instance i-039ca56754ca3230e!</span></span></p></body></html>
aws_instance.nginx2: Creation complete after 1m32s (ID: i-039ca56754ca3230e)
aws_elb.web: Creating...
  arn:                                    "" => "<computed>"
  availability_zones.#:                   "" => "<computed>"
  connection_draining:                    "" => "false"
  connection_draining_timeout:            "" => "300"
  cross_zone_load_balancing:              "" => "true"
  dns_name:                               "" => "<computed>"
  health_check.#:                         "" => "1"
  health_check.0.healthy_threshold:       "" => "2"
  health_check.0.interval:                "" => "30"
  health_check.0.target:                  "" => "HTTP:80/"
  health_check.0.timeout:                 "" => "3"
  health_check.0.unhealthy_threshold:     "" => "5"
  idle_timeout:                           "" => "60"
  instances.#:                            "" => "2"
  instances.2173153182:                   "" => "i-0187163d47259032b"
  instances.465173842:                    "" => "i-039ca56754ca3230e"
  internal:                               "" => "<computed>"
  listener.#:                             "" => "1"
  listener.3057123346.instance_port:      "" => "80"
  listener.3057123346.instance_protocol:  "" => "http"
  listener.3057123346.lb_port:            "" => "80"
  listener.3057123346.lb_protocol:        "" => "http"
  listener.3057123346.ssl_certificate_id: "" => ""
  name:                                   "" => "nginx-elb"
  security_groups.#:                      "" => "1"
  security_groups.2763454541:             "" => "sg-69ff5121"
  source_security_group:                  "" => "<computed>"
  source_security_group_id:               "" => "<computed>"
  subnets.#:                              "" => "2"
  subnets.1343970435:                     "" => "subnet-010af75d"
  subnets.1978071637:                     "" => "subnet-dc29e8bb"
  zone_id:                                "" => "<computed>"
aws_elb.web: Still creating... (10s elapsed)
aws_elb.web: Creation complete after 19s (ID: nginx-elb)

Apply complete! Resources: 12 added, 0 changed, 0 destroyed.

Outputs:

aws_elb_public_dns = nginx-elb-1204186360.us-east-1.elb.amazonaws.com
